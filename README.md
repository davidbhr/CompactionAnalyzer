# CompactionAnalyzer 

## Quantification of tissue compaction around cells

Python package to quantify the tissue compaction (as a measure of the contractile strength) generated by cells or multicellular spheroids that are embedded in fiber materials. For this we provide the two following approaches:

**A**: Evaluating the directionality of fibers towards the cell center <br>
**B**: Evaluating the increased intensity around the cell.  <br>


## Installation
The package can be installed by cloning this repository or downloading the repository as a zip file [here](https://github.com/davidbhr/CompactionAnalyzer/zipball/master). For installation, run the following command within the unzipped folder, in which the *setup.py* file is located: `pip install -e .`. This automatically downloads and installs all other required packages.

## Tutorial

The script **CompactionAnalysis.py** within the turorial folder might be good to start to get familiar with the analyis. For the analysis we need per cell an image of the fiber structure (e.g. 2nd harmonic, confocal reflection or stained fluorescence images; maximum intensity projection around the cells might be useful) and an image of the cell for segmentation (staining or bf). 

We then compute the orientation of individual fibers using structure tensor analysis. Here **sigma_tensor** is the kernel size that determines the length scale on which the strucutre is analysed. The kernel size should be in the range of structure we want too look at and can be optimized for the individual application. For our fiber gels we use a value of 7 Âµm, which is in range of the pore size. 





Set of parameters is sxplained ...


Then single function to start evaluation

..


If we have more cells we can easily read in all of them and analyze them individually sin * operator




For ever cell analysis is done for global, angle and distance. Results are stored in individual excel sheets and - if activated - plots




read in and plotted again .. show some data




To evaluate measurements mseveral cells we can combine all data in selected subfolders usin 

...

Resutlng excel files contain the mean data for all cells

Same can be done for distance analysis using
...

Then ...







## Maxprojections

Might be usefull to use Maximum intensity image around cell (smalls stacks) to include maximal compation.  
 For different max projection height it might be necessary to change parameter X , since fiberstructure seems / erscheint more densly. Maximumprojection can also be created using the function   XY


## Multicellular Compaction Assay

Beneath individual cells also the compaction can bes assesed on a multicellular level using for example cell spheoids. This also offers the advantage that uniform round shape here and less moement The compaction can be accesed using the same analysis.

Additionally, absolute forces can be measured using the python package **Jointforces** LINK HERE (requires additonal material measurements & timelapse imaging)

## Resolving compound effects

resolve contractility of tumor spheroids and drug responses.

## How to cite

If you are using the CompactionAnalyzer feel free to cite:

TODO: Write a paper and put it here...
